<!doctype html>
<html lang="en">

<head>
 <meta charset="utf-8">
 <meta http-equiv="x-ua-compatible" content="ie=edge">
 <title>Images Table | Web Backend Development</title>
 <meta name="description" content="Building the images table in the acme database for CIT 336">
 <meta name="viewport" content="width=device-width">
 <link rel="stylesheet" href="../css/336course.min.css" media="screen">
</head>

<body>
 <div id="main">
  <header id="header"><img src="../images/bs_small_banner.jpg" alt="CIT 336 Banner Image"></header>
  <main>
   <article id="article">
    <h1>Images Table</h1>
    <p>When dealing with images in a dynamic web site there are two choices: 1) store the images into the database as a "blob" (binary large object) or 2) store the images to the server and store the path to the image in the database. The first option is pretty intensive for the database server and for the developer, and so we will opt for the second.</p>
    <h2>Data Dictionary</h2>
    <p>Back in early weeks of the semester you were introduced to Entity Relationship Diagrams (ERD). While powerful, they lack a lot of information needed to provide a complete picture to build a table. Another option is the "data dictionary". This is a table that shows the table, its fields (columns) and the particular data for each. Below is the data dictionary for the <b>images</b> table:</p>
    <figure>
     <img src="../images/images-data-dictionary.png" alt="Data dictionary image of the images table for the acme database">
    </figure>
    <p>The gold key represents the <b>imgId</b> as the primary key field and the silver key represents the <b>invId</b> field as a foreign key field to provide the relationship between the <b>images</b> and <b>inventory</b> tables.</p>

    <h2>Build the Table</h2>
    <p>In the <b>acme</b> database build the new <b>images</b> table using the requirements shown in the provided data dictionary. You should note that the <b>imgId</b> field is auto incrementing and the <b>imgDate</b> is a timestamp with "CURRENT_TIMESTAMP" being entered by the database when a new record is written. This means that when writing data to this table only the "invId", "imgName" and "imgPath" fields need to have data supplied to them.</p>
    <p>In addition, the <b>invId</b> must be designated as an "Index" in order to establish the relationship between it and its equivalent field in the <b>inventory</b> table, which you will do next.</p>

    <h2>Establish the Relationship</h2>
    <p>We want an actual relationship to exist between the <b>images</b> and <b>inventory</b> tables. To build the relationship do the following:</p>
    <ol>
     <li>Click the "Structure" tab of the <b>images</b> table once it is built.</li>
     <li>Click the "Relation view" button (just below the "Structure" tab).</li>
     <li>Scroll down to the "Foreign key constraints" area. Set the values to match the image below:<br>
      <img src="../images/images-relationship.png" alt="Relationship settings for the images table">
     </li>
     <li>Scroll down (if needed), click "Save".</li>
    </ol>

    <h2>Conclusion</h2>
    <p>The table to hold the image name, path and the matching key value for the inventory item that the image represents is now in place. You are ready to start building the application.</p>
   </article>
  </main>
  <footer>
   <a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/deed.en_US" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-sa/3.0/88x31.png"></a> All materials (except as noted) are by <a href="//blainerobertson.net" title="Visit the site" target="_blank">Blaine Robertson</a> and licensed under a <a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/deed.en_US" title="Read the license" target="_blank">Creative Commons Attribution-ShareAlike 3.0 License</a>.</footer>
 </div>
 <script src="../js/course.min.js"></script>
</body>

</html>
